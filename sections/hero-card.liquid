{% assign hero_card_fallback_image_desktop = 'hero-card-placeholder-desktop.jpg' | asset_url %}
{% assign hero_card_fallback_image_mobile = 'hero-card-placeholder-mobile.jpg' | asset_url %}
{% assign hero_card_use_seasonal = section.settings.use_seasonal_hero_card %}

{% if hero_card_use_seasonal %}
  {% assign hero_card_source_image_desktop = settings.seasonal_hero_image_desktop %}
  {% assign hero_card_source_image_mobile = settings.seasonal_hero_image_mobile %}
  {% assign hero_card_title = settings.seasonal_hero_page_title %}
  {% assign hero_card_benefits = settings.seasonal_hero_page_benefits %}
  {% assign hero_card_button_label = settings.seasonal_hero_button_label %}
  {% assign hero_card_button_link = settings.seasonal_hero_button_link %}
  {% if hero_card_button_label != blank or hero_card_button_link != blank %}
    {% assign hero_card_show_button = true %}
  {% else %}
    {% assign hero_card_show_button = false %}
  {% endif %}
{% else %}
  {% assign hero_card_source_image_desktop = section.settings.background_image_desktop %}
  {% assign hero_card_source_image_mobile = section.settings.background_image_mobile %}
  {% assign hero_card_title = section.settings.page_title %}
  {% assign hero_card_benefits = section.settings.page_benefits %}
  {% assign hero_card_button_label = section.settings.button_label %}
  {% assign hero_card_button_link = section.settings.button_link %}
  {% assign hero_card_show_button = section.settings.show_button %}
{% endif %}

{% if hero_card_source_image_mobile != blank %}
  {% assign hero_card_mobile_image = hero_card_source_image_mobile | image_url: width: 1110 %}
{% else %}
  {% assign hero_card_mobile_image = hero_card_fallback_image_mobile %}
{% endif %}
{% if hero_card_source_image_desktop != blank %}
  {% assign hero_card_desktop_image = hero_card_source_image_desktop | image_url: width: 2480 %}
{% else %}
  {% assign hero_card_desktop_image = hero_card_fallback_image_desktop %}
{% endif %}

<div class="sb-hero-card-section" data-sb-reveal>
  <div
    class="sb-framing-card"
    data-sb-reveal-item
    style="--sb-hero-card-bg-mobile: url('{{ hero_card_mobile_image }}'); --sb-hero-card-bg-desktop: url('{{ hero_card_desktop_image }}');"
  >
    <div class="sb-framing-card__content">
      <p class="font-body weight-semibold">{{ hero_card_title }}</p>
      <h2 class="font-title weight-bold">{{ hero_card_benefits }}</h2>
      {% if hero_card_show_button %}
        {% if hero_card_button_link != blank %}
          <a class="sb-framing-card__button sb-button-radiant sb-button-radiant--large sb-button-large-radiant" href="{{ hero_card_button_link }}">
            <span class="sb-button-radiant__label">{{ hero_card_button_label | default: 'Placeholder' }}</span>
          </a>
        {% else %}
          <button type="button" class="sb-framing-card__button sb-button-radiant sb-button-radiant--large sb-button-large-radiant">
            <span class="sb-button-radiant__label">{{ hero_card_button_label | default: 'Placeholder' }}</span>
          </button>
        {% endif %}
      {% endif %}
    </div>
  </div>
</div>

{% stylesheet %}
  .sb-framing-card {
    align-items: flex-start;
    background: var(--sb-color-neutral-200);
    background-image: var(--sb-hero-card-bg-mobile);
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    border-radius: var(--sb-radius-card);
    display: flex;
    height: 380px;
    padding-block: var(--sb-space-64);
    padding-inline: var(--sb-space-64);
    width: 100%;
  }

  .sb-framing-card__content {
    display: flex;
    flex-direction: column;
    gap: var(--sb-space-20);
    margin-inline: 0;
    max-width: 560px;
    text-align: center;
    width: 100%;
  }

  .sb-framing-card__content h2,
  .sb-framing-card__content p {
    margin: 0;
  }

  .sb-framing-card__button {
    margin-inline: auto;
    margin-top: var(--sb-space-4);
    width: fit-content;
  }

  @media (min-width: 750px) {
    .sb-framing-card {
      align-items: center;
      background-image: var(--sb-hero-card-bg-desktop);
    }

    .sb-framing-card__content {
      text-align: left;
    }

    .sb-framing-card__button {
      margin-inline: 0;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Hero card",
  "settings": [
    {
      "type": "checkbox",
      "id": "use_seasonal_hero_card",
      "label": "Use seasonal hero card",
      "default": false
    },
    {
      "type": "paragraph",
      "content": "Target 1240x380 at 2x export (2480x760)."
    },
    {
      "type": "image_picker",
      "id": "background_image_desktop",
      "label": "Background image desktop"
    },
    {
      "type": "paragraph",
      "content": "Target 370x380 at 3x export (1110x1140)."
    },
    {
      "type": "image_picker",
      "id": "background_image_mobile",
      "label": "Background image mobile"
    },
    {
      "type": "text",
      "id": "page_title",
      "label": "Page title",
      "default": "Page title"
    },
    {
      "type": "textarea",
      "id": "page_benefits",
      "label": "Page benefits",
      "default": "Page benefits."
    },
    {
      "type": "checkbox",
      "id": "show_button",
      "label": "Show button",
      "default": false
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "Placeholder"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    }
  ],
  "presets": [
    {
      "name": "Hero card"
    }
  ]
}
{% endschema %}
