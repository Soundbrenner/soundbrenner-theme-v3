<section class="sb-contact-form" data-sb-reveal>
  <div class="sb-contact-form__inner">
    {% form 'contact', class: 'sb-contact-form__form' %}
      {% if form.posted_successfully? %}
        <p class="sb-contact-form__status font-caption weight-regular">{{ 'templates.contact.form.post_success' | t }}</p>
      {% elsif form.errors %}
        <p class="sb-contact-form__status font-caption weight-regular">{{ form.errors | default_errors }}</p>
      {% endif %}

      <div class="sb-contact-form__grid">
        <div class="sb-contact-form__field">
          <input
            id="ContactFormFirstName-{{ section.id }}"
            type="text"
            name="contact[first_name]"
            value="{{ form.first_name }}"
            autocomplete="given-name"
            placeholder="First name"
          >
        </div>
        <div class="sb-contact-form__field">
          <input
            id="ContactFormLastName-{{ section.id }}"
            type="text"
            name="contact[last_name]"
            value="{{ form.last_name }}"
            autocomplete="family-name"
            placeholder="Last name"
          >
        </div>
        <div class="sb-contact-form__field">
          <input
            id="ContactFormEmail-{{ section.id }}"
            type="email"
            name="contact[email]"
            value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
            spellcheck="false"
            autocapitalize="off"
            autocomplete="email"
            placeholder="Email"
            required
          >
        </div>
        <div class="sb-contact-form__field">
          <input
            id="ContactFormUniversity-{{ section.id }}"
            type="text"
            name="contact[University]"
            value="{{ form.university }}"
            placeholder="University"
          >
        </div>
        <div class="sb-contact-form__field sb-contact-form__field--full">
          <textarea
            id="ContactFormMessage-{{ section.id }}"
            name="contact[body]"
            rows="6"
            placeholder="Message"
            required
          >{{ form.body }}</textarea>
        </div>
      </div>

      <button type="submit" class="sb-contact-form__submit sb-button-radiant sb-button-radiant--large sb-button-large-radiant sb-button-radiant--trailing-icon">
        <span class="sb-button-radiant__label">Submit</span>
        <span class="sb-button-radiant__icon" aria-hidden="true">{{ 'icon-arrow-large-40.svg' | inline_asset_content }}</span>
      </button>
    {% endform %}
  </div>
</section>

{% stylesheet %}
  .sb-contact-form__inner {
    width: 100%;
  }

  .sb-contact-form__form {
    width: 100%;
  }

  .sb-contact-form__status {
    color: var(--sb-color-neutral-900);
    margin: 0 0 var(--sb-space-20);
  }

  .sb-contact-form__grid {
    display: grid;
    gap: var(--sb-space-20);
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .sb-contact-form__field {
    min-width: 0;
  }

  .sb-contact-form__field--full {
    grid-column: 1 / -1;
    position: relative;
  }

  .sb-contact-form input,
  .sb-contact-form textarea {
    background: var(--sb-color-always-white);
    border: 0;
    color: var(--sb-color-always-black);
    font: inherit;
    font-family: var(--sb-font-primary);
    font-size: 14px;
    font-weight: 400;
    line-height: 1.4;
    width: 100%;
  }

  .sb-contact-form input {
    border-radius: var(--sb-radius-pill);
    box-sizing: border-box;
    height: var(--sb-space-48);
    padding-inline: var(--sb-space-20);
  }

  .sb-contact-form textarea {
    border-radius: var(--sb-radius-card);
    box-sizing: border-box;
    min-height: 160px;
    padding: var(--sb-space-20);
    padding-bottom: calc(var(--sb-space-20) + var(--sb-space-16) + var(--sb-space-8));
    padding-right: calc(var(--sb-space-20) + var(--sb-space-16) + var(--sb-space-8));
    resize: vertical;
  }

  .sb-contact-form textarea::-webkit-resizer {
    background: transparent;
  }

  .sb-contact-form__field--full::after {
    background:
      linear-gradient(135deg, transparent 28%, var(--sb-color-neutral-800) 28% 34%, transparent 34% 100%),
      linear-gradient(135deg, transparent 52%, var(--sb-color-neutral-800) 52% 58%, transparent 58% 100%);
    content: '';
    height: var(--sb-space-16);
    pointer-events: none;
    position: absolute;
    right: 12px;
    bottom: 16px;
    width: var(--sb-space-16);
  }

  .sb-contact-form input::placeholder,
  .sb-contact-form textarea::placeholder {
    color: var(--sb-color-neutral-800);
    opacity: 1;
  }

  .sb-contact-form input:focus-visible,
  .sb-contact-form textarea:focus-visible {
    outline: 2px solid var(--sb-color-primary-500);
    outline-offset: 2px;
  }

  .sb-contact-form__submit {
    margin-top: var(--sb-space-20);
    width: 100%;
  }

  @media (max-width: 749px) {
    .sb-contact-form__grid {
      grid-template-columns: minmax(0, 1fr);
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Contact form",
  "settings": [],
  "presets": [
    {
      "name": "Contact form"
    }
  ]
}
{% endschema %}
