{% assign company_menu = linklists['company-footer'] %}
{% assign resources_menu = linklists['support-footer'] %}
{% assign partner_menu = linklists['partner-with-us-footer'] %}
{% assign legal_menu = linklists['footer'] %}
{% assign trustpilot_entry = metaobjects.trustpilot.values | first %}
{% assign trustpilot_rating_value = trustpilot_entry.rating.value | default: trustpilot_entry.rating %}
{% if trustpilot_rating_value != blank %}
  {% assign trustpilot_rating_text = trustpilot_rating_value | append: ' out of 5' %}
{% else %}
  {% assign trustpilot_rating_text = section.settings.trustpilot_rating %}
{% endif %}

<footer class="sb-footer full-width" data-sb-reveal>
  <div class="sb-footer__masthead" data-sb-reveal-item style="--sb-reveal-delay: 0ms;" aria-hidden="true">
    <img
      class="sb-footer__masthead-image sb-footer__masthead-image--dark"
      src="{{ 'masthead-master-your-craft-dark.png' | asset_url }}"
      alt=""
      loading="lazy"
    >
    <img
      class="sb-footer__masthead-image sb-footer__masthead-image--light"
      src="{{ 'masthead-master-your-craft-light.png' | asset_url }}"
      alt=""
      loading="lazy"
    >
  </div>

  <div class="sb-footer__card" data-sb-reveal-item style="--sb-reveal-delay: 60ms;">
    <div class="sb-footer__glow" aria-hidden="true"></div>

    <div class="sb-footer__upper-row">
      <div class="sb-footer__newsletter-row">
        <div class="sb-footer__column sb-footer__newsletter-col">
          <h3 class="sb-footer__heading font-body weight-bold">{{ section.settings.newsletter_heading }}</h3>
          <p class="sb-footer__caption font-caption weight-regular">{{ section.settings.newsletter_subheading }}</p>

          <div class="sb-footer__newsletter-klaviyo">
            <div class="klaviyo-form-VkQDWe"></div>
          </div>
        </div>
      </div>

      <div class="sb-footer__menu-row">
        <div class="sb-footer__column sb-footer__menu-column">
          <h3 class="sb-footer__heading font-body weight-bold">Partner with us</h3>
          <ul class="sb-footer__list font-caption weight-regular" role="list">
            {% if partner_menu != blank %}
              {% for link in partner_menu.links %}
                <li><a class="link-neutral-900" href="{{ link.url }}">{{ link.title }}</a></li>
              {% endfor %}
            {% endif %}
          </ul>
        </div>

        <div class="sb-footer__column sb-footer__menu-column">
          <h3 class="sb-footer__heading font-body weight-bold">Company</h3>
          <ul class="sb-footer__list font-caption weight-regular" role="list">
            {% if company_menu != blank %}
              {% for link in company_menu.links %}
                <li><a class="link-neutral-900" href="{{ link.url }}">{{ link.title }}</a></li>
              {% endfor %}
            {% endif %}
          </ul>
        </div>

        <div class="sb-footer__column sb-footer__menu-column">
          <h3 class="sb-footer__heading font-body weight-bold">Resources</h3>
          <ul class="sb-footer__list font-caption weight-regular" role="list">
            {% if resources_menu != blank %}
              {% for link in resources_menu.links %}
                <li><a class="link-neutral-900" href="{{ link.url }}">{{ link.title }}</a></li>
              {% endfor %}
            {% endif %}
          </ul>
        </div>
      </div>
    </div>

    <div class="sb-footer__divider"></div>

    <div class="sb-footer__lower-row">
      <div class="sb-footer__trust font-caption weight-semibold">
        <a
          class="sb-footer__trust-link"
          href="https://www.trustpilot.com/review/soundbrenner.com"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Trustpilot logo link"
        >
          <span class="sb-footer__trust-logo" aria-hidden="true">
            {{ 'logo-trustpilot.svg' | inline_asset_content }}
          </span>
        </a>
        <a
          class="sb-footer__trust-link"
          href="https://www.trustpilot.com/review/soundbrenner.com"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Trustpilot stars link"
        >
          <span class="sb-footer__trust-stars" aria-hidden="true">
            {{ 'trustpilot-stars.svg' | inline_asset_content }}
          </span>
        </a>
        <a
          class="sb-footer__trust-link sb-footer__trust-link--text"
          href="https://www.trustpilot.com/review/soundbrenner.com"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Read Soundbrenner reviews on Trustpilot"
        >
          <span>{{ trustpilot_rating_text }}</span>
        </a>
      </div>

      <div class="sb-footer__social" aria-label="Social links">
        <a class="sb-footer__social-link" href="https://www.instagram.com/soundbrenner" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
          {{ 'social-media-instagram.svg' | inline_asset_content }}
        </a>
        <a class="sb-footer__social-link" href="https://www.facebook.com/soundbrenner" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
          {{ 'social-media-facebook.svg' | inline_asset_content }}
        </a>
        <a class="sb-footer__social-link" href="https://www.tiktok.com/@soundbrenner" target="_blank" rel="noopener noreferrer" aria-label="TikTok">
          {{ 'social-media-tiktok.svg' | inline_asset_content }}
        </a>
        <a class="sb-footer__social-link" href="https://x.com/soundbrenner" target="_blank" rel="noopener noreferrer" aria-label="X">
          {{ 'social-media-x.svg' | inline_asset_content }}
        </a>
        <a class="sb-footer__social-link" href="https://www.youtube.com/soundbrenner" target="_blank" rel="noopener noreferrer" aria-label="YouTube">
          {{ 'social-media-youtube.svg' | inline_asset_content }}
        </a>
      </div>
    </div>
  </div>

  <div class="sb-footer__legal font-caption weight-regular" data-sb-reveal-item style="--sb-reveal-delay: 120ms;">
    <p>{{ section.settings.legal_left }}</p>
    <div class="sb-footer__legal-links">
      {% if legal_menu != blank and legal_menu.links.size > 0 %}
        {% for link in legal_menu.links %}
          <a class="link-neutral-800" href="{{ link.url }}">{{ link.title }}</a>
          {% unless forloop.last %}
            <span class="sb-footer__legal-separator" aria-hidden="true"> · </span>
          {% endunless %}
        {% endfor %}
      {% else %}
        <span>{{ section.settings.legal_right }}</span>
      {% endif %}
      <span class="sb-footer__legal-separator" aria-hidden="true"> · </span>
      <span>© {{ 'now' | date: '%Y' }} {{ shop.name }}</span>
    </div>
  </div>
</footer>

{% stylesheet %}
  .sb-footer {
    background: var(--sb-color-neutral-100);
    container-type: inline-size;
    color: var(--sb-color-neutral-900);
    display: flex;
    flex-direction: column;
    gap: 0;
    margin-inline: auto;
    padding: 0 0 var(--sb-space-36);
    max-width: var(--page-width, 1240px);
    width: min(
      var(--page-width, 1240px),
      calc(100% - (var(--page-margin, 16px) * 2))
    );
  }

  .sb-footer a {
    text-decoration: none;
  }

  .sb-footer__masthead {
    margin: 0;
    overflow: clip;
    width: 100%;
    line-height: 0;
  }

  .sb-footer__masthead-image--light {
    display: none;
  }

  .sb-footer__masthead-image {
    display: block;
    height: auto;
    width: 100%;
  }

  html[data-theme='light'] .sb-footer__masthead-image--dark {
    display: none;
  }

  html[data-theme='light'] .sb-footer__masthead-image--light {
    display: block;
  }

  html[data-theme='dark'] .sb-footer__masthead-image--dark {
    display: block;
  }

  html[data-theme='dark'] .sb-footer__masthead-image--light {
    display: none;
  }

  .sb-footer__card {
    background: var(--sb-color-neutral-200);
    border-radius: 24px;
    overflow: hidden;
    position: relative;
  }

  .sb-footer__glow {
    background: var(--sb-color-primary-500);
    bottom: -120px;
    filter: blur(80px);
    height: 240px;
    left: 0;
    opacity: 1;
    pointer-events: none;
    position: absolute;
    transform: none;
    width: 100%;
  }

  .sb-footer__upper-row {
    display: grid;
    gap: var(--sb-space-48);
    grid-template-columns: 1fr;
    padding: var(--sb-space-64);
    position: relative;
    z-index: 1;
  }

  .sb-footer__newsletter-row {
    display: flex;
    width: 100%;
  }

  .sb-footer__menu-row {
    display: grid;
    gap: var(--sb-space-48);
    grid-template-columns: 1fr;
  }

  .sb-footer__column {
    display: flex;
    flex: 0 0 auto;
    flex-direction: column;
    gap: var(--sb-space-12);
  }

  .sb-footer__newsletter-col {
    gap: var(--sb-space-16);
    max-width: none;
    width: 100%;
  }

  .sb-footer__menu-column {
    gap: var(--sb-space-16);
  }

  .sb-footer__heading {
    margin: 0;
  }

  .sb-footer__caption {
    color: var(--sb-color-neutral-800);
    margin: 0;
  }

  .sb-footer__newsletter-klaviyo {
    margin-top: calc(var(--sb-space-20) - var(--sb-space-16));
    overflow: visible !important;
    position: relative !important;
    width: 100%;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form {
    background-color: var(--sb-color-neutral-500) !important;
    border-radius: 999px !important;
    overflow: visible !important;
    position: relative !important;
    box-shadow:
      0 1px 0 0 var(--sb-color-always-white-25),
      0 4px 4px 0 var(--sb-color-always-black-25) inset !important;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form:hover,
  .sb-footer__newsletter-klaviyo .klaviyo-form:active,
  .sb-footer__newsletter-klaviyo .klaviyo-form:focus-within {
    background-color: var(--sb-color-neutral-600) !important;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form [data-testid='form-row'] {
    align-items: stretch !important;
    overflow: visible !important;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form [data-testid='form-component']:first-child {
    flex: 1 1 auto !important;
    overflow: visible !important;
    padding: 0 !important;
    position: relative !important;
    z-index: 1 !important;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form [data-testid='form-component']:first-child > div {
    align-self: stretch !important;
    height: 100% !important;
    justify-content: center !important;
    min-height: 48px !important;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form [data-testid='form-component']:last-child {
    margin: 0 !important;
    padding: 6px 6px 6px 0 !important;
    overflow: visible !important;
    position: relative !important;
    z-index: 3 !important;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form button {
    align-items: center !important;
    background-color: var(--sb-color-primary-500) !important;
    background-image: url('{{ 'arrow-reduced-padding.svg' | asset_url }}') !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-size: var(--sb-space-16) var(--sb-space-16) !important;
    border: 1px solid var(--sb-color-primary-500) !important;
    border-radius: 999px !important;
    box-sizing: border-box !important;
    box-shadow:
      0 -10px 20px 0 var(--sb-color-primary-500-25),
      0 0 0 1px var(--sb-color-primary-700) inset,
      0 -20px 20px 0 var(--sb-color-always-white-50) inset,
      0 2px 1px 0 var(--sb-color-always-white-50) inset !important;
    color: transparent !important;
    cursor: pointer !important;
    display: inline-flex !important;
    flex: 0 0 auto !important;
    font-size: 0 !important;
    font-weight: 700 !important;
    justify-content: center !important;
    line-height: 0 !important;
    min-height: 36px !important;
    height: 36px !important;
    padding-inline: 16px !important;
    padding-block: 0 !important;
    position: relative !important;
    text-decoration: none !important;
    transition:
      transform 220ms cubic-bezier(0.22, 1, 0.36, 1),
      box-shadow 220ms ease;
    white-space: nowrap !important;
    will-change: transform, box-shadow;
    margin: 0 !important;
    min-width: 48px !important;
    width: 48px !important;
    max-width: 48px !important;
    overflow: visible !important;
    z-index: 4 !important;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form button::before {
    background: var(--sb-color-always-black-25);
    border-radius: 30px;
    content: '';
    filter: blur(10px);
    height: 8px;
    left: -12px;
    pointer-events: none;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 72px;
    z-index: 1;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form button::after {
    background: linear-gradient(
      180deg,
      var(--sb-color-always-white-0) 0%,
      var(--sb-color-always-white-0) 50%,
      var(--sb-color-always-white-50) 100%
    );
    border-radius: inherit;
    content: '';
    inset: 0;
    padding: 0.5px;
    pointer-events: none;
    position: absolute;
    z-index: 3;
    -webkit-mask:
      linear-gradient(#000 0 0) content-box,
      linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    mask:
      linear-gradient(#000 0 0) content-box,
      linear-gradient(#000 0 0);
    mask-composite: exclude;
    opacity: 0.75;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form button:hover,
  .sb-footer__newsletter-klaviyo .klaviyo-form button:focus-visible {
    box-shadow:
      0 -18px 30px 0 var(--sb-color-primary-300-25),
      0 -6px 14px 0 var(--sb-color-primary-300-25),
      0 -10px 20px 0 var(--sb-color-primary-500-25),
      0 0 0 1px var(--sb-color-primary-700) inset,
      0 -20px 20px 0 var(--sb-color-always-white-50) inset,
      0 2px 1px 0 var(--sb-color-always-white-50) inset !important;
    transform: translateY(var(--sb-button-hover-lift, -2px));
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form button:active {
    transform: translateY(0);
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form input[type='email'] {
    background-color: transparent !important;
    border: 0 !important;
    box-shadow: none !important;
    color: var(--sb-color-neutral-900) !important;
    font-size: var(--font-size-form-input) !important;
    font-weight: 400 !important;
    font-family: var(--font-primary--family) !important;
    outline: none !important;
    height: 48px !important;
    line-height: 48px !important;
    min-height: 0 !important;
    padding-block: 0 !important;
    padding-left: 16px !important;
    padding-right: 16px !important;
    -webkit-appearance: none !important;
    appearance: none !important;
    transform: none !important;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form input[type='email']::placeholder {
    color: var(--sb-color-neutral-800) !important;
    opacity: 1 !important;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form input:focus,
  .sb-footer__newsletter-klaviyo .klaviyo-form input:hover,
  .sb-footer__newsletter-klaviyo .klaviyo-form input:active,
  .sb-footer__newsletter-klaviyo .klaviyo-form input:focus-visible {
    border: 0 !important;
    box-shadow: none !important;
    outline: none !important;
  }

  .sb-footer__newsletter-klaviyo .klaviyo-form .success_message,
  .sb-footer__newsletter-klaviyo .klaviyo-form [data-testid='form-message'],
  .sb-footer__newsletter-klaviyo .klaviyo-form [data-testid='success-message'] {
    color: var(--sb-color-neutral-900) !important;
    font-family: var(--font-primary--family) !important;
    font-size: var(--font-size-form-input) !important;
    font-weight: 400 !important;
    line-height: 1.35 !important;
    margin: 0 !important;
    text-align: center !important;
  }

  .sb-footer__list {
    display: flex;
    flex-direction: column;
    gap: var(--sb-space-16);
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .sb-footer__divider {
    background: var(--sb-color-neutral-900-25);
    height: 1px;
    position: relative;
    z-index: 1;
  }

  .sb-footer__lower-row {
    align-items: flex-start;
    display: flex;
    flex-direction: column;
    gap: var(--sb-space-48);
    justify-content: space-between;
    padding: var(--sb-space-64);
    position: relative;
    z-index: 1;
  }

  .sb-footer__trust {
    align-items: flex-end;
    color: var(--sb-color-neutral-900);
    display: flex;
    flex-wrap: wrap;
    gap: var(--sb-space-16);
  }

  .sb-footer__trust-link {
    align-items: flex-end;
    color: inherit;
    display: inline-flex;
    gap: var(--sb-space-16);
    text-decoration: none;
  }

  .sb-footer__trust-link--text:hover,
  .sb-footer__trust-link--text:focus-visible {
    text-decoration: underline;
  }

  .sb-footer__trust-logo,
  .sb-footer__trust-stars {
    display: inline-flex;
    line-height: 0;
  }

  .sb-footer__trust-logo svg {
    display: block;
    height: var(--sb-space-24);
    width: auto;
  }

  .sb-footer__trust-stars svg {
    display: block;
    height: var(--sb-space-16);
    transform: translateY(-2px);
    width: auto;
  }

  .sb-footer__trust-logo svg > g > g path:not([fill='none']),
  .sb-footer__trust-stars svg > g path:not([fill='none']) {
    fill: currentColor !important;
  }

  .sb-footer__trust-link:hover .sb-footer__trust-logo,
  .sb-footer__trust-link:focus-visible .sb-footer__trust-logo {
    opacity: 0.75;
  }

  .sb-footer__trust-link:hover .sb-footer__trust-stars,
  .sb-footer__trust-link:focus-visible .sb-footer__trust-stars {
    opacity: 0.75;
  }

  .sb-footer__social {
    align-items: center;
    display: flex;
    gap: var(--sb-space-20);
  }

  .sb-footer__social-link {
    color: var(--sb-color-neutral-900);
    display: inline-flex;
    line-height: 0;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .sb-footer__social-link:hover,
  .sb-footer__social-link:focus-visible {
    color: var(--sb-color-neutral-900-75);
    text-decoration: none;
  }

  .sb-footer__social-link svg {
    display: block;
    height: 20px;
    width: auto;
  }

  .sb-footer__social-link[aria-label='YouTube'] svg {
    height: 20px;
    width: 27px;
  }

  .sb-footer__social-link svg path:not([fill='none']),
  .sb-footer__social-link svg circle:not([fill='none']),
  .sb-footer__social-link svg rect:not([fill='none']) {
    fill: currentColor !important;
  }

  .sb-footer__legal {
    color: var(--sb-color-neutral-800);
    display: flex;
    flex-direction: column;
    gap: var(--sb-space-20);
    margin: 0;
    margin-top: var(--sb-space-36);
    text-align: center;
  }

  .sb-footer__legal p {
    margin: 0;
  }

  .sb-footer__legal-links {
    display: inline-flex;
    flex-wrap: wrap;
    gap: 0;
    justify-content: center;
    align-items: center;
  }

  .sb-footer__legal-separator {
    white-space: pre;
  }

  @media (min-width: 750px) {
    .sb-footer {
      padding: 0 0 var(--sb-space-36);
    }

    .sb-footer .sb-footer__upper-row {
      gap: var(--sb-space-64);
    }

    .sb-footer .sb-footer__menu-row {
      align-items: flex-start;
      display: flex;
      gap: 0;
      justify-content: space-between;
    }

    .sb-footer__glow {
      bottom: -180px;
      filter: blur(130px);
      height: 360px;
      left: 0;
      width: 100%;
    }

    .sb-footer .sb-footer__lower-row {
      align-items: flex-end;
      flex-direction: row;
      gap: var(--sb-space-20);
      padding: var(--sb-space-64);
    }

    .sb-footer .sb-footer__legal {
      flex-direction: row;
      justify-content: space-between;
      text-align: left;
      width: 100%;
    }

    .sb-footer .sb-footer__legal-links {
      justify-content: flex-end;
    }
  }

{% endstylesheet %}

<script>
  (() => {
    const setImportant = (el, prop, value) => {
      el.style.setProperty(prop, value, 'important');
    };

    const applyKlaviyoOverrides = () => {
      const root = document.querySelector('.sb-footer__newsletter-klaviyo');
      if (!root) return;

      const form = root.querySelector('.klaviyo-form');
      if (!form) return;

      const input = root.querySelector('input[type="email"]');
      const button = root.querySelector('button');
      const formRow = root.querySelector('[data-testid="form-row"]');
      const firstComponent = root.querySelector('[data-testid="form-component"]:first-child');
      const firstComponentInner = firstComponent ? firstComponent.querySelector('div') : null;
      const lastComponent = root.querySelector('[data-testid="form-component"]:last-child');
      const successNode = root.querySelector("[id^='rich-text-'], .success_message, [data-testid='form-message'], [data-testid='success-message']");
      const iconUrl = {{ 'arrow-reduced-padding.svg' | asset_url | json }};
      const hasSubmissionControls = Boolean(input && button);

      if (!hasSubmissionControls && successNode) {
        if (formRow) {
          setImportant(formRow, 'align-items', 'center');
          setImportant(formRow, 'min-height', '48px');
        }
        if (firstComponent) {
          setImportant(firstComponent, 'display', 'flex');
          setImportant(firstComponent, 'align-items', 'center');
          setImportant(firstComponent, 'justify-content', 'center');
          setImportant(firstComponent, 'padding', '0');
          setImportant(firstComponent, 'min-height', '48px');
          setImportant(firstComponent, 'flex', '1 1 auto');
        }
        if (firstComponentInner) {
          setImportant(firstComponentInner, 'width', '100%');
          setImportant(firstComponentInner, 'display', 'flex');
          setImportant(firstComponentInner, 'align-items', 'center');
          setImportant(firstComponentInner, 'justify-content', 'center');
          setImportant(firstComponentInner, 'min-height', '48px');
          setImportant(firstComponentInner, 'margin', '0');
        }
        setImportant(form, 'min-height', '48px');
        return;
      }

      if (!hasSubmissionControls) return;

      input.classList.add('font-form-input', 'weight-regular');
      button.classList.add('sb-button-radiant', 'sb-button-radiant--medium');
      button.setAttribute('aria-label', {{ section.settings.newsletter_button_label | json }});

      setImportant(form, 'border-radius', '999px');
      setImportant(form, 'overflow', 'visible');

      if (firstComponent) {
        setImportant(firstComponent, 'padding', '0');
        setImportant(firstComponent, 'flex', '1 1 auto');
        setImportant(firstComponent, 'overflow', 'visible');
        setImportant(firstComponent, 'position', 'relative');
        setImportant(firstComponent, 'z-index', '1');
      }
      if (firstComponentInner) {
        setImportant(firstComponentInner, 'height', '100%');
        setImportant(firstComponentInner, 'justify-content', 'center');
        setImportant(firstComponentInner, 'min-height', '48px');
        setImportant(firstComponentInner, 'align-self', 'stretch');
      }
      if (lastComponent) {
        setImportant(lastComponent, 'padding', '6px 6px 6px 0');
        setImportant(lastComponent, 'margin', '0');
        setImportant(lastComponent, 'overflow', 'visible');
        setImportant(lastComponent, 'position', 'relative');
        setImportant(lastComponent, 'z-index', '3');
      }

      setImportant(input, 'height', '48px');
      setImportant(input, 'line-height', '48px');
      setImportant(input, 'padding-left', '16px');
      setImportant(input, 'padding-right', '16px');
      setImportant(input, 'padding-top', '0');
      setImportant(input, 'padding-bottom', '0');
      setImportant(input, 'font-size', '16px');
      setImportant(input, 'font-weight', '400');
      setImportant(input, 'font-family', 'var(--font-primary--family)');
      setImportant(input, 'transform', 'none');
      setImportant(input, 'caret-color', 'var(--sb-color-primary-500)');

      setImportant(button, 'height', '36px');
      setImportant(button, 'min-height', '36px');
      setImportant(button, 'width', '48px');
      setImportant(button, 'max-width', '48px');
      setImportant(button, 'min-width', '48px');
      setImportant(button, 'padding-top', '0');
      setImportant(button, 'padding-bottom', '0');
      setImportant(button, 'padding-left', '16px');
      setImportant(button, 'padding-right', '16px');
      setImportant(button, 'box-sizing', 'border-box');
      setImportant(button, 'overflow', 'visible');
      setImportant(button, 'z-index', '4');
      setImportant(button, 'line-height', '0');
      setImportant(button, 'font-size', '0');
      setImportant(button, 'color', 'transparent');
      setImportant(button, 'background-color', 'var(--sb-color-primary-500)');
      setImportant(button, 'background-repeat', 'no-repeat');
      setImportant(button, 'background-position', 'center');
      setImportant(button, 'background-size', 'var(--sb-space-16) var(--sb-space-16)');
      setImportant(button, 'background-image', `url("${iconUrl}")`);
      button.textContent = '';
      button.querySelectorAll('*').forEach((child) => setImportant(child, 'display', 'none'));
    };

    const requestApply = () => window.requestAnimationFrame(applyKlaviyoOverrides);
    const observer = new MutationObserver(requestApply);
    observer.observe(document.body, { childList: true, subtree: true });
    window.addEventListener('resize', requestApply, { passive: true });
    requestApply();
    window.setTimeout(requestApply, 300);
    window.setTimeout(requestApply, 1200);
    window.setInterval(requestApply, 2000);
  })();
</script>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "text",
      "id": "masthead_text",
      "label": "Masthead text",
      "default": "MASTER YOUR CRAFT"
    },
    {
      "type": "text",
      "id": "newsletter_heading",
      "label": "Newsletter heading",
      "default": "Join our newsletter"
    },
    {
      "type": "text",
      "id": "newsletter_subheading",
      "label": "Newsletter subheading",
      "default": "Get 20% off and stay up to date."
    },
    {
      "type": "text",
      "id": "newsletter_placeholder",
      "label": "Newsletter placeholder",
      "default": "Email"
    },
    {
      "type": "text",
      "id": "newsletter_button_label",
      "label": "Newsletter button label",
      "default": "Submit"
    },
    {
      "type": "text",
      "id": "newsletter_success_text",
      "label": "Newsletter success message",
      "default": "Thanks for subscribing."
    },
    {
      "type": "text",
      "id": "trustpilot_label",
      "label": "Trustpilot label",
      "default": "Trustpilot"
    },
    {
      "type": "text",
      "id": "trustpilot_rating",
      "label": "Trustpilot rating",
      "default": "X.X out of 5"
    },
    {
      "type": "text",
      "id": "legal_left",
      "label": "Legal text left",
      "default": "Designed for musicians by Soundbrenner"
    },
    {
      "type": "text",
      "id": "legal_right",
      "label": "Legal text right",
      "default": "Privacy policy · Terms of service · Legal · © 2026 Soundbrenner"
    }
  ]
}
{% endschema %}
